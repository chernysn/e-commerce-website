
############ HOW TO ADD SOCIAL MEDIA ##############

GOOGLE CONSOLE 
https://console.cloud.google.com/welcome?project=phrasal-hold-293615 
Create Project 
APIs and Services tab on the left > OAuth consent screen > (choose) External > ADD and REMOVE SCOPES: email , profile > ...
Dashboard > Credentials > Create oAUTH client ID > Application type: Web application, name: my app; Authorized redirect URIs: 127.0.0.1:8000 and 127.0.0.1:8000/accounts/google/login/callback/ 

<< OAuth >>
Google Could COnsole

SETTINGS

SITE_ID = 1

INSTALLED APPS
"users", 
"django.contrib.sites",
"allauth",  
"allauth.account",
"allauth.socialaccount",
"allauth.socialaccount.providers.google",

SOCIALACCOUNT_PROVIDERS = {
    "google
: {
    "SCOPE": [
        "profile",
        "email"
    ],
    "AUTH_PARAMS": {"access_type": "online"}
}}

AUTHENTICATION_BACKENDS = {
    "django.contrib.auth.backends.ModelBackend",
    "allauth.account.auth_backends.AuthenticationBackend"
}

URLS (project)
path("accounts/", include("allauth.urls")),
path("/", include("users.urls")),


LOGIN.HTML PAGE:
{% load socialaccount %}
<a href="{% provider_login_url 'google' %}?next=/">GOOGLE</a>


ADMIN SITE: 

Sites: 
create Site > Domaine and Display names: http://127.0.0.1:8000 
Social Applications > Google, Client ID and Client Secret (see Google configuration JSON file); move the site from the left box to the right box; 
change in the Settings SITE_ID = 2 
